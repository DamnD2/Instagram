(()=>{"use strict";var e={134:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDEyOCAxMjgiIGlkPSJTb2NpYWxfSWNvbnMiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDEyOCAxMjgiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxnIGlkPSJfeDMxX19zdHJva2UiPjxnIGlkPSJGYWNlYm9va18xXyI+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIxMjgiIHdpZHRoPSIxMjgiLz48cGF0aCBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02OC4zNjksMTI4SDcuMDY1QzMuMTYyLDEyOCwwLDEyNC44MzYsMCwxMjAuOTM1ICAgIFY3LjA2NUMwLDMuMTYyLDMuMTYyLDAsNy4wNjUsMGgxMTMuODcxQzEyNC44MzcsMCwxMjgsMy4xNjIsMTI4LDcuMDY1djExMy44N2MwLDMuOTAyLTMuMTYzLDcuMDY1LTcuMDY0LDcuMDY1SDg4LjMxOFY3OC40MzEgICAgaDE2LjYzOGwyLjQ5MS0xOS4zMThIODguMzE4VjQ2Ljc4YzAtNS41OTMsMS41NTMtOS40MDQsOS41NzMtOS40MDRsMTAuMjI5LTAuMDA0VjIwLjA5NGMtMS43NjktMC4yMzUtNy44NDEtMC43NjEtMTQuOTA2LTAuNzYxICAgIGMtMTQuNzQ5LDAtMjQuODQ2LDkuMDAzLTI0Ljg0NiwyNS41MzV2MTQuMjQ2SDUxLjY4OHYxOS4zMThoMTYuNjgxVjEyOHoiIGZpbGw9IiM0NDYwQTAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgaWQ9IkZhY2Vib29rIi8+PC9nPjwvZz48L3N2Zz4="},364:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDEyOCAxMjgiIGlkPSJTb2NpYWxfSWNvbnMiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDEyOCAxMjgiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxnIGlkPSJfeDMxX19zdHJva2UiPjxnIGlkPSJGYWNlYm9va18xXyI+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIxMjgiIHdpZHRoPSIxMjgiLz48cGF0aCBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02OC4zNjksMTI4SDcuMDY1QzMuMTYyLDEyOCwwLDEyNC44MzYsMCwxMjAuOTM1ICAgIFY3LjA2NUMwLDMuMTYyLDMuMTYyLDAsNy4wNjUsMGgxMTMuODcxQzEyNC44MzcsMCwxMjgsMy4xNjIsMTI4LDcuMDY1djExMy44N2MwLDMuOTAyLTMuMTYzLDcuMDY1LTcuMDY0LDcuMDY1SDg4LjMxOFY3OC40MzEgICAgaDE2LjYzOGwyLjQ5MS0xOS4zMThIODguMzE4VjQ2Ljc4YzAtNS41OTMsMS41NTMtOS40MDQsOS41NzMtOS40MDRsMTAuMjI5LTAuMDA0VjIwLjA5NGMtMS43NjktMC4yMzUtNy44NDEtMC43NjEtMTQuOTA2LTAuNzYxICAgIGMtMTQuNzQ5LDAtMjQuODQ2LDkuMDAzLTI0Ljg0NiwyNS41MzV2MTQuMjQ2SDUxLjY4OHYxOS4zMThoMTYuNjgxVjEyOHoiIGZpbGw9IiNmZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgaWQ9IkZhY2Vib29rIi8+PC9nPjwvZz48L3N2Zz4="}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}(()=>{function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.field=e,this.errorField=n,this.validators=r,this.isValid}var n,r;return n=t,(r=[{key:"validate",value:function(){var e=this,t=this.validators.reduce((function(t,n){var r=n.validator,o=n.errorMessage;return t+(r(e.field.value)?"":o)}),"");this.errorField.innerText=t,t?(this.field.classList.add("error"),this.isValid=!1,this.errorField.classList.add("show")):(this.field.classList.remove("error"),this.isValid=!0,this.errorField.classList.remove("show"))}},{key:"getValueObj",value:function(){return e={},t=this.field.name,n=this.field.value,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var e,t,n}}])&&e(n.prototype,r),t}(),r=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach((function(e){return e.value=""}))},o=function(e){var t="".concat(location.origin,"/").concat(e).concat(location.hash);history.pushState(null,null,t)},i=function(e){document.querySelector("router-root").classList.add(e)};function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.form=t,this.config=n,this.controls=[],this.isValid=!1,this._init()}var n,o;return n=e,(o=[{key:"_init",value:function(){var e=this;this.config.forEach((function(n){var r=e.form.querySelector("input[name=".concat(n.name,"]")),o=e.form.querySelector('div[name="'.concat(n.name,'-error"')),i=n.validators;e.controls.push(new t(r,o,i))}))}},{key:"validate",value:function(){var e=this.controls.reduce((function(e,t){return t.validate(),!!t.isValid&&e}),!0);this.isValid=e}},{key:"getFieldsData",value:function(){var e=this.controls.reduce((function(e,t){return u(u({},e),t.getValueObj())}),{});return delete e.confirmpassword,e}},{key:"clear",value:function(){var e,t=this.controls.map((function(e){return e.field}));r.apply(void 0,function(e){if(Array.isArray(e))return a(e)}(e=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}}])&&l(n.prototype,o),e}();function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.keyName=t,this.dataType=n,this.dataTypeMap={array:[],object:{},string:"",boolean:!1},this.newValueFromTypeMap={array:function(e,t){return[].concat(function(e){if(Array.isArray(e))return m(e)}(n=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e]);var n},object:function(e,t){return y(y({},t),e)},string:function(e){return String(e)},boolean:function(e){return Boolean(e)}}}var t,n;return t=e,(n=[{key:"getValue",value:function(){var e=localStorage.getItem(this.keyName);return null!==e?JSON.parse(e):this.dataTypeMap[this.dataType]}},{key:"setValue",value:function(e){var t=this.getValue(),n=this.newValueFromTypeMap[this.dataType](e,t);localStorage.setItem(this.keyName,JSON.stringify(n))}},{key:"removeArrayElement",value:function(e){if("array"===this.dataType){var t=this.getValue();t.splice(e,1),this.removeKey(),localStorage.setItem(this.keyName,JSON.stringify(t))}}},{key:"removeKey",value:function(){localStorage.removeItem(this.keyName)}}])&&h(t.prototype,n),e}(),b=new v("users","array"),g=function(){return b.getValue()},w=function(e){return b.setValue(e)},M=function(){return b.removeKey()},O=function(e){return g().find((function(t){return t.email===e}))},_=new v("loggedInUser","object"),j=function(){return _.getValue()},S=function(e){return _.setValue(e)},I=function(e){return!!e},T=[{name:"email",validators:[{validator:I,errorMessage:"Введите email. "},{validator:function(e){return/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(e)},errorMessage:'Email должен содержать символ "@" и "." а так же от 2 до 4 символов после точки. '},{validator:function(e){return!O(e)},errorMessage:"На данный email уже зарегистрирован аккаунт."}]},{name:"age",validators:[{validator:I,errorMessage:"Введите возраст. "},{validator:function(e){return/^\d+$/.test(e)},errorMessage:"Допустимы только цифры."}]},{name:"username",validators:[{validator:I,errorMessage:"Введите имя пользователя. "},{validator:function(e,t){return!function(e,t){return e().find((function(e){return e.username===t}))}(e,t)}.bind(null,g),errorMessage:"Это имя пользователя уже занято. Попробуйте другое."}]},{name:"password",validators:[{validator:I,errorMessage:"Введите пароль. "},{validator:function(e){return/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d!$%@#£€*?&]{8,}$/.test(e)},errorMessage:'Пароль должен содержать как минимум восемь символов, заглавную букву, строчную букву, цифру и специальный символ "!$%@#£€*?&".'}]},{name:"confirmpassword",validators:[{validator:I,errorMessage:"Подтвердите пароль. "},{validator:function(e,t){return document.querySelector("input[name=".concat(e)).value===t}.bind(null,"password"),errorMessage:"Пароли не совпадают."}]}];var E={edituser:function(e){var t=e.target.closest(".modal").dataset.userid,n=new f(D,T);n.validate(),n.isValid&&(function(e,t){var n=g(),r=n.find((function(t){return t.username===e}));for(var o in t)r[o]=t[o];M(),n.forEach((function(e){return w(e)}))}(t,n.getFieldsData()),function(e,t){var n=document.querySelector('[data-id="'.concat(t,'"]')),r=n.querySelector('[name="username"]'),o=n.querySelector('[name="email"]'),i=n.querySelector('[name="age"]');r.innerHTML=e.username,o.innerHTML="email: ".concat(e.email),i.innerHTML="age: ".concat(e.age)}(n.getFieldsData(),t),n.clear(),P(D))},removeuser:function(e){var t=e.target,n=t.closest(".modal").dataset.userid,r=null;g().forEach((function(e,t){console.log(n),e.username===n&&(r=t)})),r&&function(e){b.removeArrayElement(e)}(r),P(t.closest(".modal"))}},D=document.getElementById("edituser");function L(e){var t=g().find((function(t){return t.username===e}));for(var n in D.dataset.userid=e,t)D.querySelector("[name=".concat(n,"]")).value=t[n];D.querySelector('[name="confirmpassword"]').value=t.password}function k(e){var t=[];return document.querySelectorAll(e).forEach((function(e){return t.push(e)})),t}function P(e){e.classList.add("hidden"),e.classList.remove("open"),setTimeout((function(){return e.classList.remove("show")}),700),"edituser"===e.id&&e.querySelectorAll(".error-container").forEach((function(e){return e.innerText=""})),o(""),document.querySelectorAll(".error-container").forEach((function(e){return e.classList.remove("show")}))}function x(e){var t,n,r;e.beforeInit&&e.beforeInit(),e.init(),t=k("[data-show]"),n=k("[data-dismiss]"),r=k("[data-confirm]"),n.forEach((function(e){var t=document.getElementById(e.dataset.dismiss);e.addEventListener("click",(function(){return P(t)}))})),t.forEach((function(e){var t=document.getElementById(e.dataset.show);e.addEventListener("click",(function(e){var n=e.target.closest(".card").dataset.id;"edituser"===t.id&&L(n),t.dataset.userid=n,function(e){e.classList.add("show"),setTimeout((function(){e.classList.remove("hidden")})),setTimeout((function(){e.classList.add("open")}),1e3),o("?modalUserId=".concat(e.dataset.userid))}(t)}))})),r.forEach((function(e){var t=e.dataset.confirm;e.addEventListener("click",E[t])})),e.afterInit&&e.afterInit()}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var z=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.routes=t}var t,n;return t=e,(n=[{key:"init",value:function(){window.addEventListener("hashchange",N.bind(this)),N.call(this)}}])&&A(t.prototype,n),e}();function N(){var e=location.hash.slice(1),t=this.routes.find((function(t){return t.path===e}));if(t||(t=this.routes.find((function(e){return"**"===e.path}))),!t.isLoggedIn||j().username){var n=t.component.selector,r=document.querySelector("router-root");r.classList.contains("first-load")?(r.innerHTML="<".concat(n,"></").concat(n,">"),setTimeout((function(){x(t.component),i("show")})),r.classList.remove("first-load")):("show",document.querySelector("router-root").classList.remove("show"),setTimeout((function(){r.innerHTML="<".concat(n,"></").concat(n,">"),x(t.component),i("show")}),1e3))}else location.hash="#signin"}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.components=t.components,this.routes=t.routes,this.rootComponent=t.rootComponent}var t,n;return t=e,(n=[{key:"start",value:function(){var e,t,n;e=this.rootComponent,t=this.components,x(e),t.forEach(x),(n=this.routes)&&new z(n).init()}}])&&R(t.prototype,n),e}();function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var V=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.selector=t.selector,this.template=t.template,this.data=t.data,this.el=null}var t,n;return t=e,(n=[{key:"init",value:function(){console.log(this.selector),this.el=document.querySelector(this.selector),this.el.innerHTML=function(e,t){if(t){e=e.replace(/\{{(.*?)}}/gi,(function(e,n){return t[n.trim()]}))}return e}(this.template,this.data),Y.call(this)}}])&&Z(t.prototype,n),e}();function Y(){var e=this;if(void 0!==this.events){var t=this.events();Object.keys(t).forEach((function(n){var r=n.split(" ");e.el.querySelector(r[1]).addEventListener(r[0],e[t[n]].bind(e))}))}}function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t){return H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},H(e,t)}function F(e,t){if(t&&("object"===G(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function J(e){return J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},J(e)}var U=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(c,e);var t,n,r,o,a=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=J(r);if(o){var n=J(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return F(this,e)});function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),a.call(this,e)}return t=c,(n=[{key:"afterInit",value:function(){i("first-load")}}])&&Q(t.prototype,n),c}(V))({selector:"app-root",template:'\n    <div class="app">\n      <app-header></app-header>\n      <main class="main">\n        <router-root></router-root>\n      </main>\n      <app-footer></app-footer>\n    </div>\n'});function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function q(e,t){return q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},q(e,t)}function W(e,t){if(t&&("object"===B(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function X(e){return X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},X(e)}var $=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=X(t);if(n){var o=X(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return W(this,e)});function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.call(this,e)}return o}(V))({selector:"app-not-found",template:'\n    <div class="not-found">\n      <h2 class="not-found__title">Страница не найдена</h2>\n      <a href="#main" class="not-found__link">Перейти на главную</a>\n    </div>\n  '});function K(e){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t){return te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},te(e,t)}function ne(e,t){if(t&&("object"===K(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function re(e){return re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},re(e)}var oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=re(r);if(o){var n=re(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ne(this,e)});function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,e)}return t=a,n=[{key:"beforeInit",value:function(){this.setTemplate()}},{key:"setTemplate",value:function(){var e=g();if(e.length){var t=e.reduce((function(e,t){return e+'\n        <div class="card" data-id="'.concat(t.username,'">\n          <div class="card__body">\n            <img class="card__photo" src="https://st2.depositphotos.com/2927537/7025/i/950/depositphotos_70253417-stock-photo-funny-monkey-with-a-red.jpg" />\n            <h1 class="card__username" name="username">').concat(t.username,'</h3>\n            <h3 class="card__email" name="email">email: ').concat(t.email,'</h3>\n            <h3 class="card__age" name="age">age: ').concat(t.age,'</h3>\n          </div>\n          <div class="card__footer">\n            <button class="card__button" data-show="edituser" name="edit">Редактировать</button>\n            <button class="card__button" data-show="removeuser" name="remove">Удалить</button>\n          </div>\n        </div>\n      ')}),"");this.template='\n      <div class="home">'.concat(t,"</div>\n    ")}}}],n&&ee(t.prototype,n),a}(V),ie=new oe({selector:"app-home-page",template:'\n    <div class="home">\n    ...LOADING...\n    </div>\n  '}),ae=n(134);function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ue=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.form=t,this.users=n,this.emailField=this.form.querySelector(".email"),this.passwordField=this.form.querySelector(".password"),this.errorField=this.form.querySelector(".signin__error"),this.isValid=!1}var t,n;return t=e,(n=[{key:"validate",value:function(){var e=function(e,t,n){if(!e)return"Введите Email и пароль.";var r=O(e);return r?r.password!==t?"Неверный пароль":"":"Пользователь с таким email не найден. Пройдите регистрацию."}(this.emailField.value,this.passwordField.value,this.users);this.errorField.innerText=e,this.errorField.classList.add("show"),e||(this.isValid=!0,this.errorField.classList.remove("show"))}},{key:"getUserData",value:function(){if(this.isValid)return O(this.emailField.value)}},{key:"clear",value:function(){r(this.emailField,this.passwordField)}}])&&ce(t.prototype,n),e}();function se(e){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t){return fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fe(e,t)}function pe(e,t){if(t&&("object"===se(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ye(e){return ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ye(e)}const de=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ye(r);if(o){var n=ye(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return pe(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).user=null,t.data={isLoggedInUserTemplate:null},t}return t=a,(n=[{key:"beforeInit",value:function(){var e=j().username;this.data.isLoggedInUserTemplate=e?'\n        <span class="nav__user">'.concat(e,'</span>\n        <a href="#signin" class="nav__signin" style="font-size: 20px">Выйти</a>\n      '):'\n        <a href="#signin" class="nav__signin" style="font-size: 20px; margin-right: 20px">Вход</a>\n        <a href="#signup" class="nav__signup" style="font-size: 20px">Регистрация</a>\n      '}},{key:"events",value:function(){return{"click .nav__signin":"handleClick"}}},{key:"handleClick",value:function(){_.removeKey(),this.beforeInit(),document.querySelector(".nav").innerHTML=this.data.isLoggedInUserTemplate}}])&&le(t.prototype,n),a}(V))({selector:"app-header",template:'\n    <header class="header">\n      <a href="#main" class="logo">Instagram</a>\n      <div class="nav">\n      {{ isLoggedInUserTemplate }}\n      </div>\n    </header>\n  '});function me(e){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},me(e)}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,t){return ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ve(e,t)}function be(e,t){if(t&&("object"===me(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ge(e){return ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ge(e)}var we=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ge(r);if(o){var n=ge(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return be(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).form=null,t}return t=a,(n=[{key:"afterInit",value:function(){this.form=new ue(this.el,g())}},{key:"events",value:function(){return{"submit .signin":"onSubmit","mousedown .main__signup-link":"onMousedown","mousedown .signin__submit":"onMousedown","mousedown .signin__facebook":"onMousedown"}}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.form;t.validate(),t.isValid&&(S(t.getUserData()),t.clear(),location.hash="#main",x(de))}},{key:"onMousedown",value:function(e){e.preventDefault()}}])&&he(t.prototype,n),a}(V))({selector:"app-signin-page",template:'\n    <div class="signin-wrapper" id="signin-wrapper">\n      <form class="signin">\n        <h2 class="signin__title">Instagram</h2>\n        <input type="text" class="signin__field email" placeholder="Электронный адрес">\n        <input type="password" class="signin__field password" placeholder="Пароль">\n        <button type=\'submit\' class="signin__submit">Войти</button>\n        <p class="signin__error"></p>\n        <div class="signin__text-wrapper">\n          <div class="signin__text-line"></div>\n          <p class=" signin__text">ИЛИ</p>\n          <div class="signin__text-line"></div>\n        </div>\n        <div class="signin__facebook" tabindex="0">\n          <img class="signin__facebook-icon" src='.concat(ae,' alt="facebook">\n          <p class="signin__facebook-text">Войти через Facebook</p>\n        </div>\n      </form>\n      <div class="main__signup">\n        <p class="main__signup-text">У вас ещё нет аккаунта?</p>\n        <a href="#signup" class="main__signup-link">Зарегистрироваться</a>\n      </div>\n    </div>\n  ')}),Me=n(364);function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t){return je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},je(e,t)}function Se(e,t){if(t&&("object"===Oe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ie(e){return Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ie(e)}var Te=[{path:"**",component:$},{path:"main",component:ie,isLoggedIn:!0},{path:"signin",component:we},{path:"signup",component:new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ie(r);if(o){var n=Ie(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Se(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).form=null,t}return t=a,(n=[{key:"afterInit",value:function(){this.form=new f(this.el,T)}},{key:"events",value:function(){return{"submit .signup":"onSubmit","mousedown .main__signin-link":"onMousedown","mousedown .signup__submit":"onMousedown","mousedown .signup__facebook":"onMousedown"}}},{key:"onSubmit",value:function(e){e.preventDefault(),this.form.validate(),this.form.isValid&&(w(this.form.getFieldsData()),S(this.form.getFieldsData()),this.form.clear(),location.hash="#main")}},{key:"onMousedown",value:function(e){e.preventDefault()}}])&&_e(t.prototype,n),a}(V))({selector:"app-signup-page",template:'\n    <div class="signup-wrapper" id="signup-wrapper">\n      <form class="signup">\n        <h2 class="signup__title">Instagram</h2>\n        <p class="signup__title-text">Зарегистрируйтесь, чтобы смотреть фото и видео ваших друзей.</p>\n        <div class="signup__facebook" tabindex="0">\n          <img class="signup__facebook-icon" src='.concat(Me,' alt="facebook">\n          <p class="signup__facebook-text">Войти через Facebook</p>\n        </div>\n        <div class="signup__text-wrapper">\n          <div class="signup__text-line"></div>\n          <p class=" signup__text">ИЛИ</p>\n          <div class="signup__text-line"></div>\n        </div>\n        <input type="text" name="email" class="signup__field" placeholder="Электронный адрес">\n        <div name="email-error" class="error-container"></div>\n        <input type="text" name="age" class="signup__field" placeholder="Возраст">\n        <div name="age-error" class="error-container"></div>\n        <input type="text" name="username" class="signup__field" placeholder="Имя пользователя">\n        <div name="username-error" class="error-container"></div>\n        <input type="password" name="password" class="signup__field" placeholder="Пароль">\n        <div name="password-error" class="error-container"></div>\n        <input type="password" name="confirmpassword" class="signup__field" placeholder="Подтвердить пароль">\n        <div name="confirmpassword-error" class="error-container"></div>\n        <button type="submit" class="signup__submit">Регистрация</button>\n        <p class="signup__info">Регистрируясь, вы принимаете наши Условия, Политику использования данных и Политику в\n          отношении файлов cookie.</p>\n      </form>\n      <div class="main__signin">\n        <p class="main__signin-text">Есть аккаунт?</p>\n        <a href="#signin" class="main__signin-link">Вход</a>\n      </div>\n    </div>\n  ')})}];function Ee(e){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ee(e)}function De(e,t){return De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},De(e,t)}function Le(e,t){if(t&&("object"===Ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ke(e){return ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ke(e)}var Pe=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=ke(t);if(n){var o=ke(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Le(this,e)});function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.call(this,e)}return o}(V))({selector:"app-footer",template:'\n    <footer class="footer">\n      <h4 class="footer__title">Developed by Daineko Vitaly © 2021</h1>\n    </footer>\n  '});function xe(e){return xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xe(e)}function Ae(e,t){return Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ae(e,t)}function ze(e,t){if(t&&("object"===xe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ne(e){return Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ne(e)}new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Ne(t);if(n){var o=Ne(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return ze(this,e)});function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.call(this,e)}return o}(C))({components:[de,Pe],rootComponent:U,routes:Te}).start(),location.search&&(L(location.search.split("=")[1]),D.classList.add("show"))})()})();